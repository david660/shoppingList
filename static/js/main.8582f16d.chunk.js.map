{"version":3,"sources":["modal.js","index.js"],"names":["Modal","modalContent","closeModal","setTimeout","style","color","marginTop","reducer","state","action","type","newItems","items","payload","isModalOpen","filter","item","id","Error","defaultState","JSON","parse","window","localStorage","getItem","TodoList","React","useState","name","setName","price","setPrice","useReducer","dispatch","total","setTotal","useEffect","length","newTotal","reduce","totalValue","Number","parseInt","setItem","stringify","className","htmlFor","placeholder","value","onChange","e","target","onClick","preventDefault","map","index","display","marginLeft","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.8582f16d.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Modal=({modalContent, closeModal})=>{\r\n    setTimeout(()=>{\r\n      closeModal()\r\n    },3000)\r\n  return(\r\n    <div style={{color:'red', marginTop:'5px'}}>{modalContent}</div>\r\n  )\r\n}\r\nexport default Modal","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport Modal from './modal'\n\nimport './index.css'\nimport './Todo.css'\n\n\nconst reducer = (state, action)=>{\n  if(action.type === 'ADD_ITEM') {\n    let newItems = [...state.items, action.payload]\n    return {\n      ...state, items:newItems, isModalOpen:true, modalContent:'Item Added'\n    }\n  }\n  if (action.type === 'NO_VALUE') {\n    return {\n      ...state, isModalOpen:true, modalContent:'No value is provided'\n    }\n  }\n  if (action.type==='CLOSE_MODAL') {\n    return {...state, isModalOpen:false, modalContent:''}\n  }\n  if (action.type==='REMOVE_USER') {\n    let newItems = state.items.filter(item=>{\n      return item.id !== action.payload\n    })\n    return {...state, items:newItems, isModalOpen:true, modalContent:`Item is succesfully removed`}\n  }\n\n  if(action.type==='CLEAR_USERS') {\n    return {...state, items:[],isModalOpen:true, modalContent:'Items List is successfully cleared'}\n  }\n  throw new Error('No matching error type')  \n}\n\nconst defaultState = {\n  items:JSON.parse(window.localStorage.getItem('items')) || '',\n  isModalOpen:false,\n  modalContent:''\n}\n\nconst TodoList =()=>{\n\n  const [name, setName] = React.useState('')\n  const [price, setPrice] = React.useState('');\n  const [state, dispatch] = React.useReducer(reducer, defaultState)\n  const [total, setTotal] = React.useState(0)\n\n  React.useEffect(()=>{\n    if (state.items.length > 1) {\n      let newTotal = state.items.reduce((totalValue,item)=> Number(totalValue + parseInt(item.price)), 0)\n      setTotal(newTotal)\n    }\n    if(state.items.length === 1) {\n      setTotal(state.items[0].price)\n    }\n    if(state.items.length === 0) {\n      setTotal(0)\n    }\n  },[state.items]) \n  \n  React.useEffect(()=>{\n    window.localStorage.setItem('items', JSON.stringify(state.items))\n  },[state.items])\n\n  const changeHandler=(e)=>{\n    e.preventDefault()\n    if (name && price) {\n      let newItems = {id:`item${name}`, name, price}\n      dispatch({type:'ADD_ITEM', payload:newItems})\n    }\n    else {\n      dispatch({type:'NO_VALUE'})\n    }\n    setName('')\n    setPrice('')\n  }\n\n  const closeModal=()=>{\n    dispatch({type:'CLOSE_MODAL'})\n  }\n\n  const deletePerson=(id)=>{\n    dispatch({type:'REMOVE_USER', payload:id})\n  }\n\n  return (\n    <div className='container'>\n      <div className='title'>Muyiwa's Shopping List</div>\n      <div>{state.isModalOpen && <Modal modalContent={state.modalContent} closeModal ={closeModal}/>}</div>\n\n      <div>\n\n        <form className='form'>\n          <div className='inputs-container'>\n            <div className='item-container'>\n              <label htmlFor='name'>Name:</label>\n              <input type='text' id='name' className='inputs' placeholder='Enter the name of the item' value={name} onChange={(e)=>setName(e.target.value)}/>\n            </div>\n            <div className='item-container'>\n              <label htmlFor='price'>Price:</label>\n              <input type='number' id='price' placeholder='Set the price of the item' className='inputs' value={price} onChange={(e)=>setPrice(e.target.value)}/>\n            </div>\n            <button type='submit' className='btn' onClick={changeHandler}>Submit</button>\n          </div>\n        </form>\n\n        <div className='items-display'>\n          {state.items.map((item, index)=>{\n            return (\n              <div key={item.id} className='item-display'>\n                <p className='numerator'>{(index + 1)<10 ? '0'+(index + 1) : (index + 1)}</p>\n                <p className='name-item'>{item.name}</p>\n                <p>{item.price}</p>\n                <button type='button' className='btn' id=\"del\" onClick={()=>deletePerson(item.id)}>Delete</button>\n              </div>\n            )\n          })}\n        </div>\n        {`Total amount is #${total}`}\n        {state.items.length > 0 && <button style={{display:'block', marginLeft:'auto'}} className='btn' id='del' onClick={()=>{dispatch({type:'CLEAR_USERS'})}}>Clear Items</button>}\n      </div>\n    </div>\n  )\n}\n\nReactDOM.render(<TodoList/>, document.querySelector('#root'))"],"sourceRoot":""}